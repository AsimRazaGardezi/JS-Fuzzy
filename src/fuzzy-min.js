var FuzzyLogic=function(){var k=function(){};k.prototype={getResult:function(b){var c=this.construct(b.variables_input),c=this.fuzzification(b.crisp_input,c),c=this.output_combination(c,b.inferences,b.variable_output),c=this.takeMaxofArraySet(c);return this.defuzzification(c,this.construct_variable(b.variable_output.sets))},construct:function(b){for(var c=[],a=b.length-1;0<=a;a-=1)c[a]=this.construct_variable(b[a].sets);return c},construct_variable:function(b){for(var c=[],a=b.length-1;0<=a;a-=1)c[a]=
{a:b[a],firstPoint:b[a][0]===b[a][1]?1:0,lastPoint:b[a][2]===b[a][3]?1:0,mUp:1/(b[a][1]-b[a][0]),mDown:1/(b[a][3]-b[a][2])};return c},fuzzification:function(b,c){for(var a=[],d=c.length-1;0<=d;d-=1)a[d]=this.fuzzification_variable(b[d],c[d]);return a},fuzzification_variable:function(b,c){for(var a=[],d=c.length-1;0<=d;d-=1)a[d]=this.fuzzification_function(b,c[d]);return a},fuzzification_function:function(b,c){var a=0;b<=c.a[0]?a=c.firstPoint:b<c.a[1]?a=c.mUp*(b-c.a[0]):b<=c.a[2]?a=1:b<c.a[3]?a=1-
c.mDown*(b-c.a[2]):b>=c.a[3]&&(a=c.lastPoint);return a},output_combination:function(b,c,a){for(var d=[],a=a.sets.length-1;0<=a;a-=1)d[a]=[];for(a=c.length-1;0<=a;a-=1)for(var f=c[a].length-1;0<=f;f-=1)0<=c[a][f]&&d[c[a][f]].push(b[a][f]);return d},defuzzification:function(b,c){for(var a=0,d=0,f=b.length-1;0<=f;f-=1){var g=c[f],e=g.a,j=b[f],l=e[3]-e[0],h=e[0];e[0]!==e[1]&&(h+=j/g.mUp);var i=e[3];e[2]!==e[3]&&(i-=j/g.mDown);g=0;e[0]!==h&&(g+=(h-e[0])*b[f]/2);h!==i&&(g+=(i-h)*b[f]);i!==e[3]&&(g+=(e[3]-
i)*b[f]/2);var k=i-h,l=j/3*(l+2*k)/(k+l),h=h+(i-h)/2,i=e[0]+(e[3]-e[0])/2,e=0;0!==h-i&&(e=j/(h-i));j=i;0!==e&&(j+=l/e);a+=g*j;d+=g}return 0===d?0:a/d},takeMaxofArraySet:function(b){for(var c=[],a=b.length-1;0<=a;a-=1)c[a]=this.takeMaxofArray(b[a]);return c},takeMaxofArray:function(b){if(1===b.length)return b[0];for(var c,a=b.length-2;0<=a;a-=1)c=Math.max(b[a],b[a+1]);return c}};return k}();